{% extends "layout.html" %}
{% block title %}Modifica la Spesa{% endblock %}
{% block content %}

<!-- Utilizziamo lo stesso contenitore delle pagine di login/setup per centrare il form -->
<div class="auth-container panel">
    <h2>Modifica la Spesa</h2>

    <!-- Il form ora invia i dati con il metodo POST -->
    <form method="post">

        <div class="form-group">
            <label for="descrizione">Descrizione</label>
            <input type="text" name="descrizione" id="descrizione" value="{{ spesa.descrizione }}" required>
        </div>

        <div class="form-group">
            <label for="importo">Importo Previsto</label>
            <!-- Usiamo il valore 'spesa.importo' per pre-compilare il campo -->
            <input type="text" name="importo" id="importo" value="{{ spesa.importo }}" required>
        </div>

        <div class="form-group">
            <label for="categoria">Categoria</label>
            <select name="categoria" id="categoria" required>
                <!-- Cicliamo tra le categorie disponibili -->
                {% for category in categories %}
                    <!-- Se la categoria corrisponde a quella della spesa, la pre-selezioniamo -->
                    <option value="{{ category }}" {% if category == spesa.categoria %}selected{% endif %}>
                        {{ category }}
                    </option>
                {% endfor %}
            </select>
        </div>

        <button type="submit">Salva Modifiche</button>

    </form>
</div>

{% endblock %}